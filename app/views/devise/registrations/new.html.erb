<div class="new-registrations-main">

  <h1 class="new-registrations-title">新規登録画面</h1>

  <ol class="nav">
    <li class="current nav-list">1.入力</li>
    <li class="nav-list">2.確認</li>
    <li class="nav-list">3.完了</li>
  </ol>

  <div class="new-registrations-form">
    <%= form_with model: @user, url: { action: 'confirm'}, local: true do |f| %>

    <%= link_to 'Googleで登録', user_google_oauth2_omniauth_authorize_path, method: :post%>

      <div class="field">
        <%= f.label :nickname, class: "label" %><br />
        <%= f.text_field :nickname, class: "text-field", placeholder: '40文字以内で入力して下さい' %>
        <% if @user.errors.include?(:nickname) %>
          <p style="color: red; margin: 0;">
            <%= @user.errors.full_messages_for(:nickname).first %>
          </p>
        <% end %>
      </div>

      <div class="field">
        <%= f.label :name, class: "label" %><br />
        <%= f.text_field :name, class: "text-field", placeholder: 'フルネームを入力して下さい' %>
        <% if @user.errors.include?(:name) %>
          <p style="color: red; margin: 0;">
            <%= @user.errors.full_messages_for(:name).first %>
          </p>
        <% end %>
      </div>

      <div class="field">
        <%= f.label :name_kana, class: "label" %><br />
        <%= f.text_field :name_kana, class: "text-field", placeholder: 'フリガナ' %>
        <% if @user.errors.include?(:name_kana) %>
          <p style="color: red; margin: 0;">
            <%= @user.errors.full_messages_for(:name_kana).first %>
          </p>
        <% end %>
      </div>

      <div class="field">
        <%= f.label :age, class: "label" %><br />
        <%= f.number_field :age, class: "number-field", placeholder: '半角' %>
        <% if @user.errors.include?(:age) %>
          <p style="color: red; margin: 0;">
            <%= @user.errors.full_messages_for(:age).first %>
          </p>
        <% end %>
      </div>

      <div class="field">
        <%= f.label :phone_number, class: "label" %><br />
        <%= f.text_field :phone_number, class: "text-field", placeholder: 'ハイフン(ー)無し' %>
        <% if @user.errors.include?(:phone_number) %>
          <p style="color: red; margin: 0;">
            <%= @user.errors.full_messages_for(:phone_number).first %>
          </p>
        <% end %>
      </div>

      <div class="field">
        <%= f.label :email, class: "label" %><br />
        <%= f.email_field :email, class: "text-field", placeholder: 'example@email.com' %>
        <% if @user.errors.include?(:email) %>
          <p style="color: red; margin: 0;">
            <%= @user.errors.full_messages_for(:email).first %>
          </p>
        <% end %>
      </div>

      <div class="field">
        <%= f.label :password, class: "label" %>
        <% if @minimum_password_length %>
        <em>(英数字混合の<%= @minimum_password_length %>文字以上)</em>
        <% end %><br />
        <%= f.password_field :password, class: "text-field", placeholder: '12345abcd' %>
        <% if @user.errors.include?(:password) %>
          <p style="color: red; margin: 0;">
            <%= @user.errors.full_messages_for(:password).first %>
          </p>
        <% end %>
      </div>

      <div class="field">
        <%= f.label :password_confirmation, class: "label" %><br />
        <%= f.password_field :password_confirmation, class: "text-field", placeholder: '12345abcd' %>
        <% if @user.errors.include?(:password_confirmation) %>
          <p style="color: red; margin: 0;">
            <%= @user.errors.full_messages_for(:password_confirmation).first %>
          </p>
        <% end %>
      </div>

      <div class="actions">
        <%= link_to 'ログインする', new_user_session_path, class: "btn btn-outline-primary mr-3" %>
        <%= f.submit "確認画面へ", class: "btn btn-outline-primary" %>
      </div>
    <% end %>

  </div>
</div>
